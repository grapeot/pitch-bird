# Flappy Bird - 音调控制版 🎵

一个使用音调和音量控制的 Flappy Bird 游戏，通过你的声音来控制小鸟的飞行！

## 功能特点

- 🎤 **音调控制**：通过音调高低控制小鸟上升和下降
- 🔊 **音量检测**：实时显示音量和音调信息
- 🎮 **简单易玩**：无需键盘，只需发出声音即可游戏
- 🎨 **简洁界面**：使用 Canvas 绘制的精美图形

## 游戏规则

- **音调高**（>400 Hz）：小鸟向上飞
- **音调低**（200-400 Hz）：小鸟向下飞
- **安静**：小鸟平飞（受重力影响）
- **音量越大**：上升速度越快

## 使用方法

1. **打开游戏**
   - 直接在浏览器中打开 `index.html`
   - 或使用本地服务器（推荐）

2. **允许麦克风权限**
   - 浏览器会请求麦克风权限，请点击"允许"

3. **校准（可选）**
   - 点击"校准麦克风"按钮
   - 发出不同音调的声音来设置阈值

4. **开始游戏**
   - 点击"开始游戏"按钮
   - 通过发出声音控制小鸟
   - 避开管道，获得高分！

## 技术实现

### 核心技术栈
- **HTML5 Canvas**：游戏画面渲染
- **Web Audio API**：音频输入和处理
- **FFT（快速傅里叶变换）**：音调检测
- **原生 JavaScript**：游戏逻辑

### 音频处理
- 使用 `getUserMedia` 获取麦克风输入
- 通过 `AnalyserNode` 分析音频频谱
- 使用 FFT 检测主要频率分量
- 根据频率范围判断音调高低

### 游戏逻辑
- 小鸟物理引擎（重力、速度）
- 管道生成和移动
- 碰撞检测
- 分数系统

## 图像素材说明

当前版本使用 Canvas API 绘制简单的图形：
- **小鸟**：黄色椭圆 + 眼睛 + 嘴巴 + 翅膀动画
- **管道**：绿色矩形 + 装饰边框
- **背景**：渐变天空和地面

### 替换图像素材

如果你想使用真实的图像素材，可以：

1. **下载免费素材**
   - [OpenGameArt.org](https://opengameart.org/) - 免费游戏素材
   - [Pixabay](https://pixabay.com/) - 免费图片和 GIF
   - [Kenney.nl](https://kenney.nl/) - 免费游戏素材包

2. **修改代码**
   - 在 `game.js` 的 `drawBird()` 和 `drawPipes()` 方法中
   - 使用 `ctx.drawImage()` 替换绘制代码
   - 需要先加载图片资源

示例代码：
```javascript
// 加载图片
const birdImage = new Image();
birdImage.src = 'assets/bird.png';
birdImage.onload = () => {
    // 图片加载完成后使用
    ctx.drawImage(birdImage, x, y, width, height);
};
```

## 浏览器兼容性

- ✅ Chrome/Edge（推荐）
- ✅ Firefox
- ✅ Safari（需要 HTTPS 或 localhost）
- ⚠️ 需要支持 Web Audio API 和 getUserMedia

## 注意事项

1. **HTTPS 要求**：某些浏览器需要 HTTPS 才能访问麦克风
   - 本地开发可以使用 `localhost`
   - 或使用 `http-server` 等工具

2. **环境噪音**：建议在安静环境中游戏
   - 可以使用"校准"功能调整阈值
   - 避免背景噪音干扰

3. **性能优化**：如果遇到性能问题
   - 可以减少 FFT 缓冲区大小
   - 降低游戏帧率

## 开发计划

- [ ] 添加更多游戏关卡
- [ ] 支持自定义音调阈值
- [ ] 添加音效和背景音乐
- [ ] 移动端适配
- [ ] 使用真实图像素材替换 Canvas 绘制

## 许可证

MIT License - 自由使用和修改

## 贡献

欢迎提交 Issue 和 Pull Request！

---

享受游戏！🎮🎵

